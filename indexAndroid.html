<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Centro de Descargas - AssApp's</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
</head>
<body class="bg-gray-900 text-white font-sans">

  <!-- Header -->
  <header class="bg-gray-800 shadow-md p-4">
    <h1 class="text-2xl font-bold text-center">📲 Centro de Descargas - AssApp's</h1>
    <p class="text-center text-gray-400">Encuentra aquí todas las apps modificadas y premium</p>

    <!-- Contador de visitantes -->
    <p id="visitante" class="text-center text-gray-300 mt-2">Visitante N° ...</p>

    <!-- Buscador -->
    <div class="mt-4 flex justify-center">
      <input id="searchInput" type="text" placeholder="Buscar app..." 
             class="p-2 rounded-xl text-black w-2/3 md:w-1/3" onkeyup="filtrarApps()">
    </div>
  </header>

  <!-- Contenedor principal -->
  <main class="max-w-4xl mx-auto p-6">
    <div id="cardsContainer" class="grid md:grid-cols-2 gap-6">
      <!-- Los cards se generarán dinámicamente por JS -->
    </div>

    <!-- Paginación -->
    <div class="flex justify-center mt-6 gap-4">
      <button id="prevBtn" class="bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-xl" onclick="cambiarPagina(-1)">⬅️ Anterior</button>
      <button id="nextBtn" class="bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-xl" onclick="cambiarPagina(1)">Siguiente ➡️</button>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-800 text-center p-4 mt-10">
    <p class="text-gray-500 text-sm">© 2025 AssApp's - Todos los derechos reservados</p>
  </footer>

  <script>
    // Configuración Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyA2dY3U0RGwSEwGWy3Dad-oH7HERq5WIpM",
      authDomain: "assappscontador.firebaseapp.com",
      databaseURL: "https://assappscontador-default-rtdb.firebaseio.com",
      projectId: "assappscontador",
      storageBucket: "assappscontador.firebasestorage.app",
      messagingSenderId: "783516865291",
      appId: "1:783516865291:web:92cb24a09480473f1d080e"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    const contadorRef = db.ref("visitantes");

    // Incrementar contador al ingresar
    contadorRef.transaction(current => (current || 0) + 1);

    // Mostrar contador en tiempo real
    contadorRef.on("value", snapshot => {
      const valor = snapshot.val() || 0;
      document.getElementById("visitante").innerText = `Visitante N° ${valor}`;
    });

    // Lista de apps
    const apps = [
      { nombre: "WhatsApp Plus 21.8.0", img: "https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg", href: "whatsapp.html", color: "bg-green-600" },
      { nombre: "Minecraft v1.21", img: "/img/minecraft.jpg", href: "minecraft.html", color: "bg-green-600" },
      { nombre: "DarkPlay", img: "/img/darkplay.png", href: "darkplay.html", color: "bg-green-600" },
      { nombre: "Amazon Prime", img: "/img/amazon.png", href: "amazonprime.html", color: "bg-green-600" },
      { nombre: "Spotify Premium", img: "/img/spotify.png", href: "spotifymod.html", color: "bg-green-600" },
      { nombre: "MagisTV AndroidTV", img: "/img/magis.png", href: "magis-tv.html", color: "bg-green-600" },
      { nombre: "MagisTV Android", img: "/img/magis.png", href: "magis-cel.html", color: "bg-green-600" },
      { nombre: "Lightroom Premium MOD", img: "/img/Lightroom.png", href: "lightroom.html", color: "bg-green-600" },
      { nombre: "PixelCut Premium MOD", img: "/img/pixelcut.png", href: "pixelcut.html", color: "bg-green-600" },
      { nombre: "Remini PRO v3.7.1070.2025", img: "/img/remini.png", href: "remini.html", color: "bg-green-600" },
      { nombre: "AI Photo Enhancer & Upscaler", img: "/img/aiphoto.webp", href: "aiphoto.html", color: "bg-green-600" },
      { nombre: "Avast CleanUp", img: "/img/avast.avif", href: "avast.html", color: "bg-green-600" },
      { nombre: "Background Eraser", img: "/img/background.png", href: "background.html", color: "bg-green-600" },
      { nombre: "CCleaner PRO", img: "/img/CCleaner.png", href: "ccleaner.html", color: "bg-green-600" },
      { nombre: "Cast to TV, Chromecast & Roku v2.4.4.1 PREMIUM", img: "/img/castv.webp", href: "castv.html", color: "bg-green-600" }
    ];

    const cardsPerPage = 6;
    let currentPage = 1;
    let filteredApps = [...apps];

    function mostrarCards() {
      const container = document.getElementById("cardsContainer");
      container.innerHTML = "";

      const start = (currentPage - 1) * cardsPerPage;
      const end = start + cardsPerPage;
      const appsToShow = filteredApps.slice(start, end);

      appsToShow.forEach(app => {
        const card = document.createElement("div");
        card.className = "bg-gray-800 rounded-2xl shadow-lg p-5 flex flex-col items-center";
        card.innerHTML = `
          <img src="${app.img}" alt="${app.nombre}" class="w-20 h-20 mb-3">
          <h2 class="text-xl font-semibold mb-2">${app.nombre}</h2>
          <a href="${app.href}" class="mt-4 inline-block ${app.color} hover:${app.color.replace("bg-", "bg-")}700 text-white font-bold py-2 px-4 rounded-xl">👉 Descargar</a>
        `;
        container.appendChild(card);
      });

      document.getElementById("prevBtn").style.display = currentPage === 1 ? "none" : "inline-block";
      document.getElementById("nextBtn").style.display = end >= filteredApps.length ? "none" : "inline-block";
    }

    function cambiarPagina(direccion) {
      currentPage += direccion;
      mostrarCards();
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function filtrarApps() {
      const query = document.getElementById("searchInput").value.toLowerCase();
      filteredApps = apps.filter(app => app.nombre.toLowerCase().includes(query));
      currentPage = 1;
      mostrarCards();
    }

    mostrarCards();
  </script>

</body>
</html>

