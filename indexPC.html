<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Centro de Descargas PC - AssApp's</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
</head>
<body class="bg-gray-900 text-white font-sans">

  <!-- Header -->
  <header class="bg-gray-800 shadow-md p-4">
    <h1 class="text-2xl font-bold text-center">💻 Centro de Descargas PC - AssApp's</h1>
    <p class="text-center text-gray-400">Encuentra aquí programas premium y optimizados para tu computadora</p>

    <!-- Contador de visitantes -->
    <p id="visitante" class="text-center text-gray-300 mt-2">Visitante N° ...</p>

    <!-- Buscador -->
    <div class="mt-4 flex justify-center">
      <input id="searchInput" type="text" placeholder="Buscar programa..." 
             class="p-2 rounded-xl text-black w-2/3 md:w-1/3" onkeyup="filtrarApps()">
    </div>
  </header>

  <!-- Contenedor principal -->
  <main class="max-w-4xl mx-auto p-6">
    <div id="cardsContainer" class="grid md:grid-cols-2 gap-6">
      <!-- Los cards se generarán dinámicamente por JS -->
    </div>

    <!-- Paginación -->
    <div class="flex justify-center mt-6 gap-4">
      <button id="prevBtn" class="bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-xl" onclick="cambiarPagina(-1)">⬅️ Anterior</button>
      <button id="nextBtn" class="bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-xl" onclick="cambiarPagina(1)">Siguiente ➡️</button>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-800 text-center p-4 mt-10">
    <p class="text-gray-500 text-sm">© 2025 AssApp's - Todos los derechos reservados</p>
  </footer>

  <script>
    // Configuración Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyA2dY3U0RGwSEwGWy3Dad-oH7HERq5WIpM",
      authDomain: "assappscontador.firebaseapp.com",
      databaseURL: "https://assappscontador-default-rtdb.firebaseio.com",
      projectId: "assappscontador",
      storageBucket: "assappscontador.firebasestorage.app",
      messagingSenderId: "783516865291",
      appId: "1:783516865291:web:92cb24a09480473f1d080e"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    const contadorRef = db.ref("visitantes_pc");

    // Incrementar contador al ingresar
    contadorRef.transaction(current => (current || 0) + 1);

    // Mostrar contador en tiempo real
    contadorRef.on("value", snapshot => {
      const valor = snapshot.val() || 0;
      document.getElementById("visitante").innerText = `Visitante N° ${valor}`;
    });

    // Lista de programas PC
    const apps = [
      { nombre: "WinRAR 6.24 Premium", img: "/img/winrar.png", href: "winrar.html", color: "bg-blue-600" },
      { nombre: "Microsoft Office 2021 Pro Plus", img: "/img/office.png", href: "office.html", color: "bg-orange-600" },
      { nombre: "Adobe Photoshop 2024", img: "/img/photoshop.png", href: "photoshop.html", color: "bg-blue-500" },
      { nombre: "Adobe Premiere Pro 2024", img: "/img/premiere.png", href: "premiere.html", color: "bg-purple-600" },
      { nombre: "CCleaner PRO PC", img: "/img/ccleaner.png", href: "ccleaner-pc.html", color: "bg-green-600" },
      { nombre: "AVG TuneUp 2025", img: "/img/avg.png", href: "avg.html", color: "bg-yellow-600" }
      // Aquí vamos agregando más programas
    ];

    const cardsPerPage = 6;
    let currentPage = 1;
    let filteredApps = [...apps];

    function mostrarCards() {
      const container = document.getElementById("cardsContainer");
      container.innerHTML = "";

      const start = (currentPage - 1) * cardsPerPage;
      const end = start + cardsPerPage;
      const appsToShow = filteredApps.slice(start, end);

      appsToShow.forEach(app => {
        const card = document.createElement("div");
        card.className = "bg-gray-800 rounded-2xl shadow-lg p-5 flex flex-col items-center";
        card.innerHTML = `
          <img src="${app.img}" alt="${app.nombre}" class="w-20 h-20 mb-3">
          <h2 class="text-xl font-semibold mb-2">${app.nombre}</h2>
          <a href="${app.href}" class="mt-4 inline-block ${app.color} hover:${app.color.replace("bg-", "bg-")}700 text-white font-bold py-2 px-4 rounded-xl">💾 Descargar</a>
        `;
        container.appendChild(card);
      });

      document.getElementById("prevBtn").style.display = currentPage === 1 ? "none" : "inline-block";
      document.getElementById("nextBtn").style.display = end >= filteredApps.length ? "none" : "inline-block";
    }

    function cambiarPagina(direccion) {
      currentPage += direccion;
      mostrarCards();
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function filtrarApps() {
      const query = document.getElementById("searchInput").value.toLowerCase();
      filteredApps = apps.filter(app => app.nombre.toLowerCase().includes(query));
      currentPage = 1;
      mostrarCards();
    }

    mostrarCards();
  </script>

</body>
</html>
